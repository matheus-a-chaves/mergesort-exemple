#include <stdio.h>

#define LIMIT 10

void printArray(int array[], int size)
{
    for (int i = 0; i < size; i++)
    {
        printf("%d ", array[i]);
    }
    printf("\n");
}

void insertionSort(int array[], int l, int h)
{
    for (int step = l + 1; step <= h; step++)
    {
        int key = array[step];
        int j = step - 1;

        while (j >= l && key < array[j])
        {
            array[j + 1] = array[j];
            j--;
        }

        array[j + 1] = key;
    }
}

void merge(int arr[], int l, int m, int h)
{
    int size = h - l + 1;
    if (size < LIMIT)
    {
        insertionSort(arr, l, h);
        return;
    }

    int i = l;
    int j = m + 1;
    int k = 0;
    int n1 = m;
    int n2 = h;
    int output[size];

    while (i <= n1 && j <= n2)
    {
        if (arr[i] <= arr[j])
        {
            output[k] = arr[i];
            i++;
        }
        else
        {
            output[k] = arr[j];
            j++;
        }
        k++;
    }

    while (i <= n1)
    {
        output[k] = arr[i];
        i++;
        k++;
    }

    while (j <= n2)
    {
        output[k] = arr[j];
        j++;
        k++;
    }

    for (i = l; i <= h; i++)
        arr[i] = output[i - l];
}

void mergeSort(int arr[], int size)
{
    int l, m, h, i;

    for (int subSize = 1; subSize < size; subSize *= 2)
    {
        for (l = 0; l < size - subSize; l += subSize * 2)
        {
            m = l + subSize - 1;
            h = l + subSize * 2 - 1;

            if (h >= size)
                h = size - 1;

            merge(arr, l, m, h);
        }
    }
}

int main()
{
    int data[] = {392, 44, 157, 191, 462, 229, 120, 282, 81, 382, 241, 485, 258, 373, 197, 159, 183, 175, 276, 68, 469, 276, 30, 272, 4, 256, 375, 491, 234, 399, 174, 490, 466, 33, 7, 411, 374, 21, 144, 338, 433, 130, 198, 147, 76, 217, 338, 394, 358, 445, 277, 303, 155, 422, 6, 143, 302, 55, 192, 80, 456, 354, 260, 159, 187, 66, 472, 121, 161, 24, 217, 169, 275, 379, 321, 486, 449, 143, 340, 86, 185, 155, 366, 373, 344, 203, 118, 232, 342, 128, 47, 376, 230, 83, 214, 62, 480, 385, 230, 37, 95, 177, 238, 455, 354, 338, 211, 314, 451, 175, 100, 338, 207, 287, 128, 293, 313, 163, 191, 107, 264, 16, 488, 82, 316, 401, 170, 205, 78, 450, 91, 410, 373, 49, 249, 458, 274, 220, 465, 324, 486, 23, 475, 145, 119, 152, 123, 19, 104, 154, 138, 161, 417, 149, 136, 431, 243, 320, 310, 294, 190, 441, 110, 167, 328, 55, 258, 38, 117, 112, 464, 166, 306, 190, 261, 237, 444, 339, 284, 134, 472, 212, 474, 478, 118, 84, 414, 178, 325, 15, 277, 371, 71, 120, 499, 372, 393, 478, 288, 119, 56, 266, 366, 403, 169, 455, 137, 208, 265, 431, 398, 394, 15, 99, 472, 268, 212, 352, 100, 360, 75, 174, 12, 265, 300, 169, 90, 265, 114, 120, 106, 248, 192, 245, 89, 450, 186, 42, 385, 31, 40, 230, 246, 265, 350, 406, 272, 294, 184, 269, 378, 71, 68, 81, 224, 131, 471, 390, 203, 130, 402, 478, 93, 378, 52, 467, 15, 7, 39, 374, 160, 363, 461, 265, 250, 243, 338, 104, 342, 441, 99, 117, 392, 87, 496, 159, 36, 189, 215, 282, 127, 121, 431, 412, 277, 109, 456, 253, 351, 303, 143, 293, 456, 10, 417, 190, 421, 345, 256, 471, 350, 261, 107, 443, 189, 150, 296, 60, 464, 302, 35, 10, 382, 259, 161, 361, 276, 347, 103, 210, 242, 64, 394, 67, 69, 313, 4, 10, 41, 84, 281, 188, 187, 47, 9, 46, 20, 302, 223, 367, 183, 490, 473, 163, 492, 241, 380, 56, 11, 136, 392, 261, 8, 366, 220, 49, 220, 93, 441, 153, 394, 44, 339, 282, 412, 390, 132, 308, 225, 390, 85, 487, 18, 53, 15, 208, 354, 479, 82, 278, 478, 107, 62, 294, 358, 407, 236, 311, 4, 248, 152, 457, 362, 325, 344, 399, 188, 319, 242, 157, 11, 456, 68, 76, 145, 243, 30, 100, 318, 44, 405, 144, 363, 72, 326, 293, 448, 417, 265, 42, 246, 68, 119, 269, 246, 56, 22, 17, 258, 19, 253, 109, 55, 298, 450, 26, 409, 143, 392, 212, 447, 198, 40, 111, 175, 159, 399, 430, 55, 92, 114, 482, 117, 366, 151, 497, 36, 288, 58, 308, 310, 484, 265, 458, 366, 463, 300, 53, 40, 426, 79, 177, 343, 260, 122, 49, 386, 324, 9, 444, 347, 433, 131, 229, 116, 373, 98, 460, 386, 80, 491, 409, 328, 474, 191, 30, 78, 97, 471, 408, 185, 176, 386, 430, 395, 473, 444, 489, 115, 74, 362, 468, 359, 398, 283, 57, 79, 380, 480, 84, 66, 56, 270, 98, 394, 77, 168, 420, 82, 310, 138, 24, 429, 148, 365, 471, 422, 46, 185, 465, 23, 257, 333, 265, 225, 56, 55, 236, 485, 79, 47, 420, 328, 38, 159, 311, 61, 22, 290, 181, 108, 158, 188, 29, 376, 131, 316, 474, 73, 445, 188, 225, 469, 421, 449, 293, 365, 231, 73, 327, 46, 461, 372, 63, 482, 336, 116, 276, 79, 227, 61, 373, 412, 275, 207, 83, 438, 168, 186, 299, 96, 326, 166, 483, 394, 158, 81, 500, 108, 248, 235, 208, 206, 281, 443, 67, 17, 363, 368, 35, 439, 384, 39, 124, 436, 246, 358, 334, 129, 162, 273, 169, 112, 249, 270, 178, 205, 186, 236, 334, 435, 158, 115, 156, 139, 397, 314, 442, 160, 410, 17, 173, 305, 377, 51, 214, 313, 58, 16, 362, 160, 52, 317, 100, 473, 208, 73, 446, 303, 179, 380, 99, 477, 288, 297, 30, 453, 345, 180, 132, 263, 68, 323, 490, 262, 384, 264, 30, 239, 67, 487, 395, 289, 301, 74, 148, 95, 273, 252, 301, 87, 27, 62, 382, 330, 17, 363, 301, 250, 395, 460, 429, 168, 145, 246, 60, 22, 66, 343, 60, 190, 298, 434, 239, 183, 102, 234, 435, 171, 488, 365, 220, 377, 25, 277, 74, 121, 203, 68, 219, 477, 428, 434, 441, 80, 234, 178, 458, 318, 129, 161, 262, 408, 156, 282, 233, 409, 273, 96, 395, 330, 339, 234, 46, 486, 53, 147, 154, 85, 107, 98, 372, 276, 95, 409, 293, 18, 68, 260, 171, 245, 204, 389, 143, 168, 151, 285, 220, 65, 145, 228, 98, 283, 58, 69, 394, 106, 1, 264, 13, 60, 97, 359, 447, 236, 449, 473, 48, 25, 201, 65, 474, 114, 37, 15, 347, 178, 281, 436, 206, 360, 55, 424, 92, 120, 213, 17, 343, 282, 388, 384, 362, 47, 293, 362, 368, 2, 477, 43, 337, 218, 138, 472, 205, 123, 358, 267, 221, 242, 362, 346, 226, 476, 278, 55, 90, 44, 154, 77, 392, 217, 458, 270, 457, 424, 415, 43, 355, 283, 292, 461, 21, 485, 84, 335, 143, 91, 229, 194, 252, 201, 440, 247, 341, 38, 222, 447, 156, 395, 484, 263, 375, 27, 197, 251, 466, 309, 299, 466, 130, 369, 489, 497, 212, 470, 133, 259, 433, 53, 372, 341, 93, 494, 70, 214, 41, 176, 17, 27, 238, 426, 345, 302, 21, 171, 375, 177, 93, 340, 163, 236, 294, 231, 75, 246, 269, 117, 372, 60, 491, 251, 8, 471, 439, 36, 150, 306, 196, 490, 29, 118, 196, 494, 332, 475, 0, 190, 230, 86, 202, 353, 483, 446, 32, 200, 303, 484, 92, 356, 7, 366, 125, 10, 265, 471, 399, 198, 183, 370, 339, 467, 397, 142, 97, 369, 495, 443, 306, 92, 109, 301, 493, 98, 227, 360, 292, 36, 275, 230, 98, 387, 417, 425, 7, 358, 180, 56, 212, 307, 496, 208, 325, 384, 170, 130, 497, 234, 210, 347, 200, 457, 162, 422, 318, 374, 128, 418, 200, 386, 373, 414, 120, 333, 63, 160, 394, 37, 48, 308, 218, 479, 81, 221, 500, 274, 81, 111, 491, 128, 42, 258, 378, 234, 470, 206, 467, 316, 161, 60, 487, 310, 46, 438, 41, 175, 36, 376, 480, 20, 485, 169, 112, 49, 274, 91, 436, 237, 451, 338, 65, 217, 486, 95, 277, 319, 312, 201, 7, 354, 188, 234, 367, 26, 183, 106, 351, 145, 8, 15, 345, 22, 464, 209, 156, 344, 132, 147, 424, 213, 313, 366, 17, 144, 355, 210, 424, 262, 51, 310, 408, 17, 260, 42, 339, 492, 183, 62, 497, 406, 256, 118, 388, 97, 147, 434, 76, 453, 269, 14, 26, 110, 475, 200, 262, 350, 35, 51, 5, 384, 138, 280, 382, 358, 490, 487, 168, 256, 397, 418, 198, 201, 363, 493, 163, 86, 168, 180, 32, 100, 146, 14, 100, 257, 324, 266, 338, 186, 56, 445, 386, 234, 498, 269, 343, 271, 456, 80, 273, 114, 187, 287, 490, 270, 288, 96, 118, 190, 79, 310, 210, 171, 95, 152, 470, 341, 361, 335, 268, 246, 468, 373, 406, 19, 87, 249, 243, 4, 298, 464, 497, 220, 309, 473, 17, 11, 308, 308, 78, 190, 417, 293, 342, 333, 400, 423, 452, 2, 138, 106, 248, 344, 296, 84, 438, 322, 311, 127, 295, 73, 396, 392, 464, 483, 131, 10, 432, 402, 156, 442, 299, 324, 443, 317, 224, 394, 152, 459, 346, 337, 360, 246, 232, 44, 424, 364, 442, 76, 122, 127, 224, 465, 148, 31, 324, 33, 83, 218, 213, 451, 70, 119, 176, 245, 105, 483, 393, 173, 445, 34, 57, 237, 107, 112, 365, 118, 482, 326, 371, 136, 499, 221, 386, 299, 184, 401, 319, 317, 65, 350, 192, 395, 437, 221, 94, 414, 284, 27, 383, 142, 396, 429, 388, 499, 357, 96, 441, 175, 460, 319, 447, 336, 217, 300, 204, 464, 185, 227, 437, 255, 43, 101, 457, 413, 33, 436, 303, 320, 294, 447, 490, 168, 363, 391, 377, 481, 199, 127, 110, 392, 355, 209, 325, 329, 423, 117, 203, 307, 268, 270, 27, 85, 395, 229, 69, 218, 181, 116, 333, 456, 89, 47, 84, 254, 178, 339, 232, 87, 498, 146, 334, 408, 301, 435, 468, 397, 339, 63, 13, 3, 451, 74, 136, 131, 305, 395, 329, 342, 201, 139, 294, 428, 420, 338, 490, 276, 247, 326, 25, 14, 444, 198, 152, 99, 275, 179, 106, 482, 137, 1, 62, 372, 70, 29, 349, 43, 459, 183, 359, 463, 87, 257, 289, 211, 431, 327, 477, 164, 393, 441, 198, 81, 129, 80, 251, 30, 126, 405, 433, 467, 225, 262, 334, 284, 334, 437, 30, 250, 43, 232, 224, 355, 477, 309, 476, 282, 418, 356, 116, 498, 280, 399, 246, 383, 396, 487, 442, 447, 24, 386, 396, 453, 112, 305, 94, 125, 204, 410, 497, 58, 43, 494, 38, 74, 485, 131, 214, 348, 319, 107, 444, 407, 285, 174, 89, 119, 163, 204, 53, 434, 184, 188, 178, 224, 180, 31, 281, 318, 307, 236, 64, 362, 224, 1, 136, 405, 243, 215, 344, 79, 225, 6, 318, 482, 435, 136, 229, 407, 263, 371, 265, 160, 329, 5, 104, 207, 416, 468, 263, 345, 84, 9, 335, 25, 434, 381, 151, 333, 83, 37, 46, 267, 493, 466, 8, 500, 96, 221, 462, 224, 288, 86, 156, 94, 329, 370, 52, 424, 403, 98, 295, 137, 465, 454, 84, 302, 302, 273, 186, 114, 103, 448, 6, 134, 236, 424, 475, 424, 91, 206, 390, 99, 365, 444, 44, 50, 357, 214, 52, 150, 73, 46, 259, 405, 190, 252, 40, 132, 385, 497, 359, 344, 348, 41, 320, 177, 139, 475, 49, 409, 434, 39, 132, 44, 171, 252, 203, 394, 477, 186, 359, 363, 291, 449, 302, 96, 337, 120, 406, 396, 85, 141, 26, 171, 329, 471, 12, 81, 295, 455, 373, 414, 116, 319, 370, 76, 102, 281, 9, 236, 181, 217, 374, 0, 93, 148, 268, 316, 17, 387, 128, 205, 69, 422, 119, 159, 118, 135, 39, 422, 104, 489, 491, 102, 309, 450, 73, 295, 280, 83, 429, 393, 351, 75, 348, 406, 264, 405, 384, 395, 330, 236, 61, 264, 375, 31, 13, 266, 388, 100, 364, 301, 83, 80, 260, 14, 138, 3, 232, 237, 249, 251, 468, 189, 361, 385, 300, 146, 126, 21, 17, 204, 113, 444, 58, 37, 201, 251, 139, 277, 330, 9, 90, 320, 493, 448, 334, 263, 75, 341, 173, 362, 464, 59, 250, 414, 400, 144, 171, 199, 242, 274, 220, 268, 322, 442, 43, 143, 225, 97, 190, 446, 64, 156, 185, 80, 393, 348, 431, 171, 403, 324, 63, 420, 292, 193, 226, 485, 188, 213, 287, 395, 377, 467, 263, 310, 175, 336, 327, 461, 121, 39, 273, 176, 164, 90, 22, 446, 50, 83, 41, 239, 340, 181, 292, 377, 365, 93, 471, 424, 461, 97, 8, 297, 250, 77, 114, 139, 87, 365, 27, 481, 443, 248, 474, 108, 495, 268, 426, 320, 483, 174, 402, 332, 87, 490, 478, 281, 293, 138, 248, 265, 335, 0, 279, 388, 67, 145, 15, 158, 222, 127, 245, 435, 361, 219, 172, 79, 105, 101, 244, 196, 153, 271, 158, 192, 62, 107, 468, 74, 123, 231, 440, 72, 110, 330, 251, 200, 82, 455, 140, 204, 206, 391, 260, 10, 398, 139, 83, 240, 262, 231, 323, 396, 265, 369, 85, 316, 30, 324, 262, 328, 205, 62, 207, 116, 419, 276, 320, 133, 81, 48, 288, 249, 317, 13, 114, 140, 283, 115, 128, 149, 480, 94, 236, 297, 492, 14, 153, 230, 152, 167, 249, 166, 342, 18, 300, 161, 28, 304, 161, 60, 276, 415, 283, 145, 109, 424, 100, 38, 456, 333, 155, 337, 479, 334, 394, 195, 316, 213, 377, 315, 349, 238, 55, 226, 461, 246, 282, 44, 227, 279, 119, 472, 494, 371, 391, 389, 352, 470, 458, 93, 134, 86, 359, 190, 261, 197, 494, 285, 391, 27, 256, 169, 302, 306, 47, 231, 395, 33, 322, 186, 242, 238, 85, 417, 363, 61, 303, 450, 29, 98, 41, 39, 420, 275, 116, 210, 321, 122, 335, 185, 408, 23, 400, 263, 67, 252, 479, 284, 482, 408, 408, 195, 274, 23, 239, 400, 254, 489, 290, 24, 259, 426, 412, 247, 112, 318, 18, 186, 162, 272, 214, 41, 82, 400, 305, 107, 302, 96, 397, 218, 170, 197, 353, 465, 65, 271, 236, 171, 488, 266, 236, 427, 393, 478, 115, 376, 474, 1, 321, 149, 389, 197, 93, 383, 120, 130, 490, 458, 68, 330, 389, 52, 322, 309, 401, 153, 219, 169, 52, 227, 460, 75, 318, 437, 90, 466, 468, 3, 64, 411, 152, 414, 496, 71, 431, 204, 20, 408, 239, 412, 474, 55, 492, 422, 129, 202, 390, 387, 227, 436, 437, 172, 407, 295, 476, 140, 75, 278, 26, 207, 447, 421, 66, 157, 279, 337, 326, 95, 13, 66, 242, 426, 213, 186, 124, 414, 339, 334, 338, 203, 134, 150, 365, 197, 257, 13, 403, 384, 475, 157, 188, 205, 108, 78, 493, 10, 82, 478, 102, 226, 358, 488, 443, 68, 430, 281, 444, 451, 34, 221, 138, 0, 118, 156, 250, 398, 101, 320, 407, 272, 35, 72, 138, 242, 376, 454, 426, 219, 115, 299, 405, 102, 324, 168, 26, 63, 467, 192, 434, 418, 115, 240, 477, 50, 296, 225, 182, 500, 260, 444, 54, 77, 299, 186, 400, 268, 449, 99, 215, 11, 315, 235, 275, 440, 39, 207, 365, 375, 332, 32, 69, 325, 62, 389, 272, 265, 121, 486, 383, 323, 321, 148, 14, 301, 401, 282, 454, 175, 197, 255, 157, 120, 119, 120, 421, 108, 455, 149, 481, 171, 469, 105, 191, 422, 79, 350, 441, 321, 346, 289, 216, 95, 39, 175, 279, 451, 471, 78, 352, 349, 277, 484, 485, 409, 309, 137, 442, 381, 176, 434, 126, 71, 446, 332, 193, 240, 466, 8, 248, 178, 404, 463, 478, 84, 8, 27, 180, 8, 462, 93, 63, 87, 417, 249, 390, 150, 394, 481, 317, 347, 495, 279, 390, 300, 190, 487, 493, 0, 367, 250, 107, 260, 441, 357, 374, 290, 175, 397, 226, 402, 484, 381, 258, 19, 228, 57, 224, 167, 358, 224, 301, 361, 187, 270, 405, 319, 16, 66, 491, 376, 15, 262, 492, 416, 178, 208, 486, 261, 472, 490, 124, 257, 6, 313, 125, 445, 71, 187, 242, 343, 211, 124, 418, 478, 398, 360, 342, 390, 148, 393, 281, 70, 169, 254, 284, 305, 413, 265, 174, 424, 178, 488, 120, 241, 80, 456, 73, 197, 133, 289, 369, 182, 192, 455, 349, 5, 341, 214, 484, 500, 262, 386, 194, 357, 474, 389, 332, 400, 173, 145, 461, 205, 384, 17, 441, 239, 143, 408, 400, 245, 221, 351, 355, 236, 272, 165, 413, 102, 91, 365, 486, 466, 164, 372, 180, 235, 87, 391, 470, 255, 111, 379, 288, 268, 444, 191, 473, 58, 383, 333, 76, 104, 473, 469, 305, 42, 316, 96, 497, 186, 138, 417, 445, 108, 461, 414, 293, 173, 155, 351, 273, 152, 61, 459, 77, 86, 428, 350, 106, 435, 246, 233, 174, 80, 390, 392, 268, 361, 30, 400, 426, 210, 413, 462, 94, 270, 183, 272, 437, 249, 398, 178, 2, 145, 463, 374, 0, 412, 498, 336, 394, 245, 369, 443, 455, 298, 140, 476, 311, 150, 65, 168, 240, 358, 215, 412, 319, 156, 384, 146, 253, 361, 430, 81, 93, 130, 444, 21, 477, 375, 275, 490, 277, 318, 135, 306, 301, 209, 25, 496, 294, 356, 58, 88, 342, 18, 54, 482, 437, 14, 280, 164, 152, 300, 267, 59, 18, 333, 490, 435, 155, 353, 253, 261, 146, 408, 203, 92, 486, 233, 153, 498, 218, 445, 226, 290, 325, 163, 129, 403, 393, 68, 31, 469, 138, 323, 344, 353, 129, 158, 457, 34, 459, 120, 52, 443, 37, 276, 16, 396, 271, 20, 111, 230, 344, 73, 114, 132, 351, 411, 377, 154, 385, 486, 324, 267, 280, 96, 404, 326, 499, 248, 61, 233, 485, 14, 344, 350, 375, 157, 428, 180, 327, 356, 361, 88, 439, 60, 242, 267, 159, 183, 434, 394, 164, 64, 131, 66, 480, 399, 152, 24, 281, 349, 155, 321, 100, 320, 451, 228, 164, 372, 396, 416, 228, 38, 138, 468, 51, 321, 55, 415, 261, 16, 336, 145, 216, 10, 397, 371, 240, 387, 479, 89, 332, 114, 20, 427, 67, 305, 444, 74, 103, 368, 395, 315, 384, 358, 10, 26, 83, 133, 316, 173, 326, 136, 453, 436, 251, 444, 206, 455, 367, 482, 127, 147, 141, 147, 278, 396, 391, 178, 1, 278, 141, 67, 336, 340, 217, 54, 386, 104, 429, 80, 102, 458, 284, 347, 92, 104, 313, 182, 73, 216, 230, 355, 111, 493, 364, 439, 455, 463, 365, 143, 106, 16, 259, 55, 30, 283, 37, 212, 122, 97, 370, 292, 44, 193, 486, 467, 333, 498, 344, 390, 7, 323, 496, 200, 486, 299, 184, 130, 75, 361, 319, 231, 327, 0, 493, 298, 156, 250, 315, 333, 375, 499, 280, 320, 32, 230, 136, 476, 211, 136, 18, 290, 426, 365, 283, 260, 286, 126, 242, 162, 79, 254, 114, 206, 428, 122, 139, 176, 497, 445, 482, 205, 459, 500, 185, 427, 452, 291, 249, 305, 177, 58, 303, 444, 345, 433, 475, 296, 281, 390, 441, 394, 372, 410, 68, 449, 396, 268, 98, 469, 122, 249, 331, 471, 329, 270, 356, 185, 253, 267, 74, 453, 337, 112, 335, 84, 37, 361, 55, 308, 334, 405, 250, 441, 118, 258, 167, 194, 108, 289, 265, 184, 402, 274, 333, 200, 59, 303, 390, 369, 446, 58, 166, 405, 452};
    int size = sizeof(data) / sizeof(data[0]);
    mergeSort(data, size);
    printf("Classificação em ordem crescente:\n");
    printArray(data, size);
}
